<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        window.onload = function () {

            var u1 = document.getElementById("u1");

            var btn1 = document.getElementById("btn1");
            btn1.onclick = function () {
                var li = document.createElement("li");
                li.innerHTML = "<a href=\"#\" class=\"link\">new</a>";
                u1.appendChild(li);
            };



            var allA = document.getElementsByTagName("a");
            // 这种为每一个超链接绑定单击响应函数比较麻烦
            // 而且这些操作只能为已有的超链接设置事件，而新添加的超链接必须重新绑定
            // for (var i = 0; i < a.length; i++) {
            //     allA[i].onclick = function () {
            //         alert("alert");
            //     };
            // }


            // 只绑定一次事件，即可应用到多个元素上。即使元素是后添加的
            // u1.onclick = function () {
            //     alert("alert");       //只要在<ul></ul>范围内单击鼠标，都会触发
            // };

            // 如果触发事件的对象是我们期望的元素则执行，否则不执行
            u1.onclick = function(event) {
                event = event || window.event;
                // 存在隐患，<li>中的class可能不同，如下方的超链接2，超链接2无法触发
                if(event.target.className == "link"){
                    alert("alert");
                }
            };
        };
    </script>
</head>

<body>
    <button id="btn1">添加超链接</button>
    <ul id="u1" style="background-color: greenyellow;">
        <li>
            <p>p</p>
        </li>
        <li><a href="#" class="link">1</a></li>
        <li><a href="#" class="link1">2</a></li>
        <li><a href="#" class="link">3</a></li>
    </ul>
</body>

</html>