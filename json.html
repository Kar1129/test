<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        var obj = '{"name": "sun","age": "18","gender": "female"}';
        var arr = '[1,2,3,"hello",true]';
        var obj2 = '{"arr":[1,2,3]}';
        var arr2 = '[{"name": "sun","age": "18","gender": "female"},{"name": "sun","age": "18","gender": "female"}]';

        // 将JSON字符串转换为JS中的对象
        // 在JS中，为我们提供了一个工具类：JSON
        // 这个对象可以将一个JSON转换为JS对象，也可以将JS对象转换为JSON

        var json = '{"name": "sun","age": "18","gender": "female"}';

        // JSON.parse()可以将以JSON字符串转换为js对象
        // 需要一个JSON字符串作为参数
        var o1 = JSON.parse(json);
        var o2 = JSON.parse(arr);
        console.log(o2[3]);


        var obj3 = {
            name: "zhubajie",
            age: 28,
            gender: "female"
        };

        // JS对象转JSON
        // JSON.stringify()可以将一个JS对象转换为JSON字符串
        // 需要一个js对象作为参数，会返回一个JSON字符串
        var str = JSON.stringify(obj3);
        console.log(str);


        // JSON对象在IE7及以下不支持

        var str1 = '{"name": "sun","age": "18","gender": "female"}';
        // eval()函数可以用来执行一段字符串形式的JS代码，并将执行结果返回
        // 如果使用eval()执行的字符串中有{}，它会将{}当成代码块
        // 如果不希望将其当成代码块，则需要在字符串前后各加一个()
        // 尽量不要使用，执行性能较差，具有安全隐患
        var str2 = "alert('hello');";
        eval(str2);
        var objstr1 = eval("(" + str1 + ")");
        console.log(objstr1);


        // 解决IE7及以下的兼容问题最终解决方案
        // 引入外部js文件
    </script>
</head>

<body>

</body>

</html>